# 컨테이너 살펴보기

## 1. 컨테이너와 컨테이너 이미지의 구조

컨테이너는 하나의 Application 프로세스  
* 컨테이너의 특징은 애플리케이션들이 독립된 공간으로 분리되서 운영된다. (CPU, Memory, Network, Disk 등)

Docker Host
* 현재 도커 데몬이 동작되고 있는 리눅스 커널이 있는 시스템을 도커 호스트라고 부른다.
* 도커가 컨테이너를 실행할 수 있는 플랫폼을 만들어놨다는 뜻이다.
* 즉, 여러 개의 컨테이너는 도커 데몬안에서 동작하는 것이다. (도커 데몬이 없으면 컨테이너 동작 X)
* 호스트 입장에서 컨테이너는 단순히 동작되는 Process이다.

컨테이너 이미지
* 여러개의 레이어로 구상이 되서 하나의 애플리케이션이 실행될 수 있도록 구성된 이미지들의 조합

```
아래 처럼 여러 개를 쌓아서 레이어라고 구분했다.
아래 모든 레이러를 다 포함한 것이 컨테이너 이미지이다.

run node app.js : 동작 시키는 방법 나열
app.js : 소스 이미지
nodejs : 베이스 이미지
```

<br/>

---
## 2. 컨테이너 동작 방식

```
1. 도커 허브에 다양한 컨테이너 이미지가 저장되어 있다.
 - 즉, 도커 허브에 있는 이미지를 검색하여 설치하게 된다.
 - 이때, 설치하는 이미지는 실제로 여러 개의 레이어로 구성되어 있을 수 있다.
  - 다운로드받은 이미지는 하나지만, 그 안에 레이어별로 따로 관리되어 저장한다. (컨테이너 이미지)
$ docker search nginx
$ docker pull nginx

2. 이제 이러한 컨테이너 이미지를 컨테이너화 시키려면 실행해야한다.
$ docker run -d -p 80:80 --name web nginx


```

<br/>

---
## 정리

Docker Host: 도커 데몬이 동작되고 있는 시스템  
Docker Daemon: 설치한 도커  
Docker Client Command: docker  
Docker Hub: 저장소 (docker.com)  
Container Images: 이미지 레이어 별로 따로 파일로 저장한다.  
Container: 하나의 프로세스 상태로 동작하는 상태   

<br/>

# 실습
1. Docker Hub에서 컨테이너 이미지 검색  
2. 컨테이너 이미지 다운로드 후 Image Layer 보기  
3. 컨테이너 실행하고 확인  