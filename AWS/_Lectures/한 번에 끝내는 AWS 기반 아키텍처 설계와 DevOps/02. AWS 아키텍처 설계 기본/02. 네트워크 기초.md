# 네트워크 기초

## 네트워크 CIDR에 대한 설명

CIDR이란 Classless Inter-Domain Routing으로 클래스 없는 도메인간 라우팅 기법이다.  

 - ipcalc 명령어로 CIDR 주소 계산 가능
    - ipcalc 10.10.1.2/26
    - https://www.ipaddressguide.com/cidr
```
# 주소 예시 192.168.100.66/26
IP 주소(A)          : 11000000.10101000.10101000.01000010
서브넷 마스크(B)     : 11111111.11111111.11111111.11000000
와일드 카드 마스크(C) : 00000000.00000000.00000000.00111111

네트워크 ID = A 와 B AND 연산: 11000000.10101000.10101000.01000000
브로드캐스트 ID = A와 C OR 연산: 11000000.10101000.10101000.01111111
```

## HTTP SSL TLS 개념

 - HTTP(HyperText Transfer Protocol)
    - 인터넷상에서 정보를 주고받을 수 있는 프로토콜
    - 클라이언트와 서버 사이에 요청/응답을 위한 규칙
    - 주로 일반 텍스트로 이루어진 HTML 문서를 주고받는 데에 사용
 - SSL/TLS(Secure Socket Layer/Transfer Layer Security)
    - 데이터를 안전하게 전송하기 위한 인터넷 암호화 통신 프로토콜
    - 전자상거래의 보안을 위해 넷스케이프에서 처음 만듬
    - SSL을 표준화하여 만든 것이 TLS
    - SSL/TLS로 함께 묶어 분류
 - HTTPS
    - HTTP의 보안이 강화된 버전
    - SSL/TLS 프로토콜로 세션 데이터 암호화

## 웹브라우저에서 도메인 URL을 입력하면 일어나는 일들

 - 웹브라우저가 URL 분석
 - HSTS 목록을 로드하여 확인
 - 웹브라우저 캐시 확인
 - OS 캐시 확인
 - 로컬 PC의 hosts 설정 확인
 - DHCP&ARP의 라우터 확인

## AWS 네트워크 설계하기

 - VPC CIDR 대역 확정
    - 사설 IP는 국제 표준을 준수하는가?
    - VPC CIDR은 확장성을 고려하였나?
 - 서브넷팅
    - 프라이빗 서브넷을 구성하였는가?
    - 서브넷 대역은 용도별로 나누었는가?
    - AWS의 예약된 IP를 인지하고 있는가?
 - 가용성 확보
    - 최소 2개 이상의 서브넷을 사용하였는가?
    - 리소스가 프로비저닝이 가능한가?
 - 온프레미스 to VPC 연결
    - 온프레미스 네트워크와 중복되지 않는가?
    - VPC to On-premise 간 통신 특성을 고려하였는가?
 - 외부 통신 제한
    - 외부 인터넷으로 통신이 필요한가? (NAT Gateway/인스턴스 구성)
    - 외부 인터넷으로 통신 제한이 필요한가? (VPC 엔드포인트)
    - 외부 인터넷으로 통신시 도메인 기반 통신 제어가 필요한가? (시큐리티 그룹으로 관리 X, 별도의 FQND 가능한 보안 솔루션 구성)

#### RFC 1918 표준 사설 IP

 - 10.0.0.0/8
    - 24비트 블록
    - 16,888,216 개
 - 172.16.0.0/12
    - 20비트 블록
    - 1,048,576 개
 - 192.168.0.0/16
    - 16비트 블록
    - 65,536 개

## NACL과 Security Group

 - Security Group
    - 인스턴스 수준 적용
    - IN/OUT 트래픽 화이트 리스트
    - 상태저장
    - 모든 규칙 평가 적용
    - 연결된 경우에만 적용
 - Network ACL
    - 서브넷 수준 적용
    - IN/OUT 트래픽 화이트/블랙 리스트
    - 상태 비저장
    - 번호가 낮은 규칙 기준 우선 순위 적용
    - 서브넷 내의 모든 인스턴스 적용

